## 本章目标
- select
- 读、写、异常事件发生条件
- 用 select 改进回射服务器程序

### 读、写、异常事件发生条件

*可读（套接口产生可读事件的四种情况）*
 
- 套接口**缓冲区有数据可读**（对等方发送数据过来，填充了本地缓冲区）
 
- 连接的读一半关闭，即**接收到 FIN 段**，读操作将返回 0
 
- 如果是监听套接口，已完成连接队列不为空时
 
- 套接口上发生了一个错误待处理，错误可以通过 getsockopt 指定 SO_ERROR 选项来获取
 
*可写*
 
- 套接口发送缓冲区有空间容纳数据
 
- 连接的写一半关闭。即收到 RST 段之后，再次调用 wait 操作
 
- 套接口上发生了一个错误待处理，错误可以通过 getsockopt 指定 SO_ERROR 选项来获取

*异常*
 
- 套接口存在带外数据

### 用 select 改进回射服务器程序

```C

```
